id: roomowner-demoted-event-with-id-in-all-of
activities:
  # all-of cannot be in the starting activity
  - execute-script:
      id: startActvity
      on:
        message-received:
          content: /start
      script: |

  - execute-script:
      id: scriptActivity
      on:
        all-of:
          - room-member-demoted-from-owner:
              id: roomOwnerDemotedWithIdIn
          - message-received:
              id: eventId
              content: /alwaysCalled
      script: |

  - execute-script:
      id: scriptAssertion
      script: |
        assert roomOwnerDemotedWithIdIn.source != null
        assert eventId.source != null
