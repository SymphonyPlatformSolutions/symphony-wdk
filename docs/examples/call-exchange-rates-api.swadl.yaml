id: exchange-rates-workflow
activities:
  - execute-request:
      id: callExchangeRatesApi
      headers:
        Content-Type: application/json
        Accept: application/json

      method: GET
      url: https://open.er-api.com/v6/latest/EUR
      on:
        message-received:
          content: /show-exchange-rates

  - send-message:
      id: sendRates
      content: ${json(callExchangeRatesApi.outputs.body).rates['EUR']} EUR = ${json(callExchangeRatesApi.outputs.body).rates['USD']} USD
